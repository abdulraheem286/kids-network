{"ast":null,"code":"var _jsxFileName = \"D:\\\\Comsats\\\\FYP\\\\kids-network\\\\src\\\\Screens\\\\Login.js\";\nimport React, { useContext } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport * as Yup from \"yup\";\nimport AuthContext from \"./../components/AuthContext\";\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required(\"*Email is Required\").email().label(\"Email\"),\n  password: Yup.string().required(\"*Password is Required\").min(6, \"Password must be greater than 6 characters\").label(\"Password\")\n});\nexport default function Login() {\n  const authContext = useContext(AuthContext);\n\n  const handleSubmit = async values => {\n    console.log(values, \"values\");\n    firebase.auth().signInWithEmailAndPassword(values.email, values.password).then(async userCredential => {\n      console.log(userCredential, \"credentials\");\n      firebase.firestore().collection(\"users\").where(\"email\", \"==\", values.email).get().then(res => {\n        res.forEach(doc => {\n          if (values.password === doc.data().password) {\n            localStorage.setItem(\"user\", JSON.stringify(doc.data()));\n            authContext.setUserDetails(doc.data());\n            alert(\"Welcome\");\n          }\n        });\n      });\n      var user = userCredential.id;\n      console.log(user);\n    }).catch(error => {\n      var errorMessage = error.message;\n      console.log(errorMessage);\n      alert(\"Wrong Password/ User Don't Exist\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema: validationSchema,\n    onSubmit: values => {\n      handleSubmit(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"outer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"email\",\n    className: \"form-control\",\n    placeholder: \"Enter email\",\n    name: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Enter password\",\n    name: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"custom-control-input\",\n    id: \"customCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, \"Remember me\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-dark btn-lg btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"forgot-password text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"Forgot \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"forgot-pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 24\n    }\n  }, \"Password?\")))))));\n}","map":{"version":3,"sources":["D:/Comsats/FYP/kids-network/src/Screens/Login.js"],"names":["React","useContext","Formik","Form","Field","ErrorMessage","firebase","Yup","AuthContext","validationSchema","object","shape","email","string","required","label","password","min","Login","authContext","handleSubmit","values","console","log","auth","signInWithEmailAndPassword","then","userCredential","firestore","collection","where","get","res","forEach","doc","data","localStorage","setItem","JSON","stringify","setUserDetails","alert","user","id","catch","error","errorMessage","message"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport * as Yup from \"yup\";\nimport AuthContext from \"./../components/AuthContext\";\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required(\"*Email is Required\").email().label(\"Email\"),\n  password: Yup.string()\n    .required(\"*Password is Required\")\n    .min(6, \"Password must be greater than 6 characters\")\n    .label(\"Password\"),\n});\n\nexport default function Login() {\n  const authContext = useContext(AuthContext);\n  const handleSubmit = async (values) => {\n    console.log(values, \"values\");\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(values.email, values.password)\n      .then(async (userCredential) => {\n        console.log(userCredential, \"credentials\");\n        firebase\n          .firestore()\n          .collection(\"users\")\n          .where(\"email\", \"==\", values.email)\n          .get()\n          .then((res) => {\n            res.forEach((doc) => {\n              if (values.password === doc.data().password) {\n                localStorage.setItem(\"user\", JSON.stringify(doc.data()));\n                authContext.setUserDetails(doc.data());\n                alert(\"Welcome\");\n              }\n            });\n          });\n\n        var user = userCredential.id;\n        console.log(user);\n      })\n      .catch((error) => {\n        var errorMessage = error.message;\n        console.log(errorMessage);\n        alert(\"Wrong Password/ User Don't Exist\");\n      });\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(values) => {\n          handleSubmit(values);\n        }}\n      >\n        <div className=\"outer\">\n          <div className=\"inner\">\n            <Form>\n              <h3>Log in</h3>\n\n              <div className=\"mb-2\">\n                <Field\n                  type=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                />\n                <div className=\"text-danger\">\n                  <small>\n                    <ErrorMessage name=\"email\" />\n                  </small>\n                </div>\n              </div>\n\n              <div className=\"mb-2\">\n                <Field\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Enter password\"\n                  name=\"password\"\n                />\n                <div className=\"text-danger\">\n                  <small>\n                    <ErrorMessage name=\"password\" />\n                  </small>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"custom-control custom-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customCheck1\"\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customCheck1\"\n                  >\n                    Remember me\n                  </label>\n                </div>\n              </div>\n\n              <button type=\"submit\" className=\"btn btn-dark btn-lg btn-block\">\n                Sign in\n              </button>\n              <p className=\"forgot-password text-right\">\n                Forgot <a href=\"forgot-pass\">Password?</a>\n              </p>\n            </Form>\n          </div>\n        </div>\n      </Formik>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}